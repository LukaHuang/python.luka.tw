<!DOCTYPE html><html class="appearance-light" lang="en"><head><meta charset="UTF-8"><title>Luka.tw</title><meta name="description"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/widget-post-list.css"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Luka.tw</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><span>Tags · Rails</span></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><article class="post-container is-flex is-justify-content-center section container is-max-widescreen pt-4 px-2"><div class="columns is-variable is-1-tablet is-3-desktop-only is-2-widescreen is-full-width"><section class="column"><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/11/12/old%20posts/2015-11-12-rails-sortable-table-with-ajax/">Rails - Sortable Table With Ajax</a></h2><time class="has-text-grey" datetime="2015-11-12T07:32:00.000Z">2015-11-12</time><p class="is-flex-grow-2 mt-2">
前端使用sortable
後端在幫要排序的類別(這邊是Memo)加上position欄位

原理與流程jquery-ui 的 sortable 套件內建了 serilize ，它的功用是把 id 變成 query string 依順序回傳，所以我們只要找出規則就可以知道移動的是哪些欄位，把移動後的結果用 ajax 存進資料庫即完成拖曳的動作。
程式結構(html)html指定要排序的Container為id=&amp;quot;memo-table&amp;quot;，讓js可以幫他加上sortable()方法。要排序的欄位加上id=&amp;quot;id-&amp;lt;%= memo.id %&amp;gt;&amp;quot;，這樣 jquery-ui sortable 套件的 serialize 時就會以 query string 的方式把排..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/11/12/old%20posts/2015-11-12-rails-sortable-table-with-ajax/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/javascript"><i class="tag post-item-tag">javascript</i></a><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/11/12/old%20posts/2015-11-12-rails-will-pagniate-implement-an-infinite-scroll/">Rails - 使用 will pagniate 搭配 ajax 實作無限捲動</a></h2><time class="has-text-grey" datetime="2015-11-11T21:29:00.000Z">2015-11-12</time><p class="is-flex-grow-2 mt-2">概念：will paganiate 由送到 controller 的 params[:page] 決定回傳的@posts。
可以由我們在 controller 中定義@posts所知道。
@posts = Post.paginate(:page =&amp;gt; params[:page])

inifite scroll event$(window).scroll(function () &amp;#123;
   if ($(window).scrollTop() &amp;gt;= $(document).height() - $(window).height() - 10) &amp;#123;
      //Add something at the end of the page
   &amp;#125;
&amp;#125;);

記得..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/11/12/old%20posts/2015-11-12-rails-will-pagniate-implement-an-infinite-scroll/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/11/02/old%20posts/2015-11-02-tealeaf-course-2-sluggify-module/">從 Tealeaf 課程學習模組化 - Sluggify Module</a></h2><time class="has-text-grey" datetime="2015-11-02T11:05:00.000Z">2015-11-02</time><p class="is-flex-grow-2 mt-2">因為 Post 與 Category 都的網址都需要 Sluggify 以便 SEO 的進行。所以我們把 Sluggify 模組化，讓同樣的程式碼只要寫一次就好。
1. 建立module Sluggable，並引入之在lib資料夾中建立一個名為sluggable.rb的檔案。加入extend ActiveSupport::Concern，這個技巧會讓模組間的耦合變得更加簡單。而一個class載入Sluggable時，會先做完include區塊中寫下的事情。
module Sluggable
  extend ActiveSupport:Concern

  include do

  end
end

打開config/application.rb加入路徑config.autoload_paths &amp;lt;..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/11/02/old%20posts/2015-11-02-tealeaf-course-2-sluggify-module/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/10/10/old%20posts/2015-10-10-http-status-code-in-rails/">HTTP Status Code In Rails</a></h2><time class="has-text-grey" datetime="2015-10-10T03:22:00.000Z">2015-10-10</time><p class="is-flex-grow-2 mt-2">Rails將這些HTTP Status定義成有意義的單字。讓我們可以在使用的時候減少因為背錯而發生錯誤的機率。
使用方式用symbol加上單字即可取代原本的HTTP Status Code(500)
render status: 500
render status: :forbidden

這些Symbol其實定義在Rack中原始碼 rack/utils.rb
    HTTP_STATUS_CODES = &amp;#123;

    # Informational
      100 =&amp;gt; &amp;#39;Continue&amp;#39;,
      101 =&amp;gt; &amp;#39;Switching Protocols&amp;#39;,
      102 =&amp;gt; &amp;#39;Processing&amp;#39;,

  ..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/10/10/old%20posts/2015-10-10-http-status-code-in-rails/">Read more</a></section></article><article class="post-item-card"><header class="is-relative is-flex"><div class="post-cover-backdrop is-hidden"><img src="https://lh5.googleusercontent.com/prEm9rc0sIHt53jGcgC-dy7Ej3hjESh1-XymMINIzWE=w1743-h143-no" alt="loading.."></div><a class="post-cover-link has-text-centered skeleton" href="/2015/01/18/old%20posts/2015-01-18-rails-form-helper/"><img class="post-cover-img js-img-fadeIn" src="https://lh5.googleusercontent.com/prEm9rc0sIHt53jGcgC-dy7Ej3hjESh1-XymMINIzWE=w1743-h143-no" alt="loading.." data-backdrop="true"></a></header><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/01/18/old%20posts/2015-01-18-rails-form-helper/">Rails - 拆解 Form Helper 以 Checkbox 為例</a></h2><time class="has-text-grey" datetime="2015-01-17T21:25:00.000Z">2015-01-18</time><p class="is-flex-grow-2 mt-2">使用Rails Form Helper時，很重要的一點是要知道Form Helper會產生什麼樣的Html Code，了解之，觀察之，這樣你才能修改成自己需要的樣子。如果要在form中加入check box，可以使用collection_check_boxes這個在rails 4新加入的form helper來完成。我們就以checkbox為例，來練習觀察html吧！
Collection Check Box第一個來使用到的是collection_check_boxes，完整的參數是collection_check_boxes(object, method, collection, value_method, text_method, options = &amp;#123;&amp;#125;, html_options..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/01/18/old%20posts/2015-01-18-rails-form-helper/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/01/13/old%20posts/2015-01-13-rails-note-require-creator/">Rails note : Require Creator</a></h2><time class="has-text-grey" datetime="2015-01-12T16:42:00.000Z">2015-01-13</time><p class="is-flex-grow-2 mt-2">增加一個叫做Creator的別名，讓我們在判別作者時文意更加通順。
設定發文者我們透過foreign key新增一個叫做creator的別名。作法是修改model/post.rb原本的
    belongs_to :user

改成
    belongs_to :creator, foreign_key: &amp;quot;user_id&amp;quot;, class: &amp;quot;User&amp;quot;

原本我們要使用post.user來取得文章作者，現在可以使用post.creator來取得作者。
只有作者可以新增或修改文章
到posts controller加上before_action :require_creator, only: [:edit, :update]

在application contr..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/01/13/old%20posts/2015-01-13-rails-note-require-creator/">Read more</a></section></article><article class="post-item-card"><section class="content post-card-content p-4 pb-5"><header><a href="/tags/Rails"><i class="tag post-item-tag">Rails</i></a></header><h2 class="mt-4 mb-0 is-family-serif"><a href="/2015/01/04/old%20posts/2015-01-04-rails-project-1-url-shorter/">Rails Project 1 URL Shortener</a></h2><time class="has-text-grey" datetime="2015-01-03T17:02:00.000Z">2015-01-04</time><p class="is-flex-grow-2 mt-2">前言接下來我要藉由實作一些比較小型的Rails Project，來練習工程師必備的技能，其中最主要訓練的目標是能抓出需要實作的use case與如何從use case中實踐功能。因為沒有網頁的相關背景，如何磨練Html css javascript的基本實作能力也是這一階段的重點。
熟悉了如何使用Rails完成所要的需求與一些常見功能的開發之後，下一階段可以是學習Rails如何跟API互動或是開始學習Design Patterns。學習Dessign Pattern的原因有：一是可以讀的懂程式碼，二是了解為什麼要這麼寫。anyway，先把眼前的事情做好最重要let’s do it！
Use Case , Page Flow and Data在練習實作Project的過程中，我會格外地注意Use Case、P..</p><a class="button is-default mt-2 has-text-weight-semibold" href="/2015/01/04/old%20posts/2015-01-04-rails-project-1-url-shorter/">Read more</a></section></article><section class="paginator is-flex is-justify-content-flex-end is-flex-wrap-wrap mt-5"><a class="extend prev" rel="prev" href="/tags/Rails/"><i class="iconfont icon-prev has-text-grey"></i></a><a class="page-number" href="/tags/Rails/">1</a><span class="page-number current">2</span></section></section><aside class="column is-hidden-mobile is-4-tablet is-3-widescreen"><div style="position: sticky; top: 50px;"><main class="aside-card-container tag-widget is-in-tag-page"><h3>Tags</h3><section><a href="/tags/Harbor"><span class="tag post-item-tag" style="margin-bottom: 5px;">Harbor</span></a><a href="/tags/Docker"><span class="tag post-item-tag" style="margin-bottom: 5px;">Docker</span></a><a href="/tags/Kubernetes"><span class="tag post-item-tag" style="margin-bottom: 5px;">Kubernetes</span></a><a href="/tags/Minikube"><span class="tag post-item-tag" style="margin-bottom: 5px;">Minikube</span></a><a href="/tags/DevOps"><span class="tag post-item-tag" style="margin-bottom: 5px;">DevOps</span></a><a href="/tags/DroneCI"><span class="tag post-item-tag" style="margin-bottom: 5px;">DroneCI</span></a><a href="/tags/Python"><span class="tag post-item-tag" style="margin-bottom: 5px;">Python</span></a><a href="/tags/Flask"><span class="tag post-item-tag" style="margin-bottom: 5px;">Flask</span></a><a href="/tags/Unit-Test"><span class="tag post-item-tag" style="margin-bottom: 5px;">Unit Test</span></a><a href="/tags/Github"><span class="tag post-item-tag" style="margin-bottom: 5px;">Github</span></a><a href="/tags/Open-Source"><span class="tag post-item-tag" style="margin-bottom: 5px;">Open Source</span></a><a href="/tags/Design-Pattern"><span class="tag post-item-tag" style="margin-bottom: 5px;">Design Pattern</span></a><a href="/tags/UML"><span class="tag post-item-tag" style="margin-bottom: 5px;">UML</span></a><a href="/tags/Learning"><span class="tag post-item-tag" style="margin-bottom: 5px;">Learning</span></a><a href="/tags/HTML"><span class="tag post-item-tag" style="margin-bottom: 5px;">HTML</span></a><a href="/tags/CSS"><span class="tag post-item-tag" style="margin-bottom: 5px;">CSS</span></a><a href="/tags/Algorithm"><span class="tag post-item-tag" style="margin-bottom: 5px;">Algorithm</span></a><a href="/tags/Sublime"><span class="tag post-item-tag" style="margin-bottom: 5px;">Sublime</span></a><a href="/tags/Text-Editor"><span class="tag post-item-tag" style="margin-bottom: 5px;">Text Editor</span></a><a href="/tags/Bootstrap"><span class="tag post-item-tag" style="margin-bottom: 5px;">Bootstrap</span></a><a href="/tags/javascript"><span class="tag post-item-tag" style="margin-bottom: 5px;">javascript</span></a><a href="/tags/Meteor"><span class="tag post-item-tag" style="margin-bottom: 5px;">Meteor</span></a><a href="/tags/Git"><span class="tag post-item-tag" style="margin-bottom: 5px;">Git</span></a><a href="/tags/Ajax"><span class="tag post-item-tag" style="margin-bottom: 5px;">Ajax</span></a><a href="/tags/jQuery"><span class="tag post-item-tag" style="margin-bottom: 5px;">jQuery</span></a><a href="/tags/Ruby"><span class="tag post-item-tag" style="margin-bottom: 5px;">Ruby</span></a><a href="/tags/Ruby-Bit"><span class="tag post-item-tag" style="margin-bottom: 5px;">Ruby Bit</span></a><a href="/tags/Linux"><span class="tag post-item-tag" style="margin-bottom: 5px;">Linux</span></a><a href="/tags/EDX-Linux-Foundation"><span class="tag post-item-tag" style="margin-bottom: 5px;">EDX Linux Foundation</span></a><a href="/tags/Vim"><span class="tag post-item-tag" style="margin-bottom: 5px;">Vim</span></a><a href="/tags/Agile"><span class="tag post-item-tag" style="margin-bottom: 5px;">Agile</span></a><a href="/tags/Kanban"><span class="tag post-item-tag" style="margin-bottom: 5px;">Kanban</span></a><a href="/tags/CI/CD"><span class="tag post-item-tag" style="margin-bottom: 5px;">CI/CD</span></a><a href="/tags/Sinatra"><span class="tag post-item-tag" style="margin-bottom: 5px;">Sinatra</span></a><a href="/tags/Atom"><span class="tag post-item-tag" style="margin-bottom: 5px;">Atom</span></a><a href="/tags/Rails"><span class="tag post-item-tag" style="margin-bottom: 5px;">Rails</span></a><a href="/tags/PSD-to-HTML"><span class="tag post-item-tag" style="margin-bottom: 5px;">PSD to HTML</span></a><a href="/tags/Course"><span class="tag post-item-tag" style="margin-bottom: 5px;">Course</span></a><a href="/tags/Typescript"><span class="tag post-item-tag" style="margin-bottom: 5px;">Typescript</span></a><a href="/tags/SCSS"><span class="tag post-item-tag" style="margin-bottom: 5px;">SCSS</span></a><a href="/tags/Golang"><span class="tag post-item-tag" style="margin-bottom: 5px;">Golang</span></a><a href="/tags/OSX"><span class="tag post-item-tag" style="margin-bottom: 5px;">OSX</span></a><a href="/tags/Redmine"><span class="tag post-item-tag" style="margin-bottom: 5px;">Redmine</span></a><a href="/tags/ActiveRecord"><span class="tag post-item-tag" style="margin-bottom: 5px;">ActiveRecord</span></a><a href="/tags/Cronjob"><span class="tag post-item-tag" style="margin-bottom: 5px;">Cronjob</span></a><a href="/tags/Crawler"><span class="tag post-item-tag" style="margin-bottom: 5px;">Crawler</span></a><a href="/tags/Metaprogramming"><span class="tag post-item-tag" style="margin-bottom: 5px;">Metaprogramming</span></a><a href="/tags/Elasticsearch"><span class="tag post-item-tag" style="margin-bottom: 5px;">Elasticsearch</span></a><a href="/tags/Fluentd"><span class="tag post-item-tag" style="margin-bottom: 5px;">Fluentd</span></a><a href="/tags/EFK"><span class="tag post-item-tag" style="margin-bottom: 5px;">EFK</span></a><a href="/tags/ELK"><span class="tag post-item-tag" style="margin-bottom: 5px;">ELK</span></a><a href="/tags/Devops"><span class="tag post-item-tag" style="margin-bottom: 5px;">Devops</span></a><a href="/tags/CORS"><span class="tag post-item-tag" style="margin-bottom: 5px;">CORS</span></a><a href="/tags/gem"><span class="tag post-item-tag" style="margin-bottom: 5px;">gem</span></a><a href="/tags/Time"><span class="tag post-item-tag" style="margin-bottom: 5px;">Time</span></a><a href="/tags/Web-Foundation"><span class="tag post-item-tag" style="margin-bottom: 5px;">Web Foundation</span></a><a href="/tags/Coockie"><span class="tag post-item-tag" style="margin-bottom: 5px;">Coockie</span></a><a href="/tags/Session"><span class="tag post-item-tag" style="margin-bottom: 5px;">Session</span></a><a href="/tags/Database"><span class="tag post-item-tag" style="margin-bottom: 5px;">Database</span></a><a href="/tags/AWS"><span class="tag post-item-tag" style="margin-bottom: 5px;">AWS</span></a><a href="/tags/S3"><span class="tag post-item-tag" style="margin-bottom: 5px;">S3</span></a><a href="/tags/Mysql"><span class="tag post-item-tag" style="margin-bottom: 5px;">Mysql</span></a></section></main></div></aside></div></article><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/LukaHuang"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/LukaHuang"><i class="iconfont icon-linkedin"></i></a><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//CodeShiba"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Luka.tw 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo </p></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script>$claudia.fadeInImage(null, $claudia.blurBackdropImg)

window.addEventListener('resize', $claudia.throttle(function () {
    var images = document.querySelectorAll('.js-img-fadeIn')

    images.forEach($claudia.blurBackdropImg)
}, 150))</script></body></html>