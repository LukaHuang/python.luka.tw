<!DOCTYPE html><html class="appearance-light" lang="en"><head><meta charset="UTF-8"><title>EDX Linux Foundation Ch11：Local Security Principle section 4~5</title><meta name="description"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.png"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/widget-post-list.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="Section 4: Working with passwordsHow Passwords are Stored On modern systems, passwords are actually stored in an encrypted format in a secondary file named /etc/shadow. Only those with root access can modify/read this file.
Password EncryptionMost Linux distributions rely on a modern password encryption algorithm called SHA-512 (Secure Hashing Algorithm 51.."><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Luka.tw</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">EDX Linux Foundation Ch11：Local Security Principle section 4~5</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><div class="post-container" style="position: sticky; top: 50px;"><main class="aside-card-container categories-widget category-page"><h3 style="font-size:1em;">Categories</h3><section><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/01-Python-%E5%9F%BA%E7%A4%8E%E6%95%99%E5%AD%B8/">01 Python 基礎教學</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/02-Python-%E7%88%AC%E8%9F%B2%E6%95%99%E5%AD%B8/">02 Python 爬蟲教學</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/03-Python-Flask-%E6%95%99%E5%AD%B8/">03 Python Flask 教學</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/04-Python-Django-%E6%95%99%E5%AD%B8/">04 Python Django 教學</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/05-Python-%E8%B3%87%E6%96%99%E5%BA%AB%E6%95%99%E5%AD%B8/">05 Python 資料庫教學</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/06-Python-%E8%B3%87%E6%96%99%E5%88%86%E6%9E%90/">06 Python 資料分析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/07-Python-%E6%A9%9F%E5%99%A8%E5%AD%B8%E7%BF%92/">07 Python 機器學習</a><span class="category-list-count">1</span></li></ul></section></main><div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Section-4-Working-with-passwords"><span class="toc-text">Section 4: Working with passwords</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#How-Passwords-are-Stored"><span class="toc-text">How Passwords are Stored</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Password-Encryption"><span class="toc-text">Password Encryption</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Good-Password-Practices"><span class="toc-text">Good Password Practices</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Password-aging"><span class="toc-text">1.Password aging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-PAM"><span class="toc-text">2.PAM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-John-the-ripper"><span class="toc-text">3.John the ripper</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Seciton-5-Securing-the-Boot-Process-and-Hardware"><span class="toc-text">Seciton 5: Securing the Boot Process and Hardware</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Requiring-Boot-Loader-Passwords"><span class="toc-text">Requiring Boot Loader Passwords</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GRUB-version-1%EF%BC%88older-version%EF%BC%89"><span class="toc-text">GRUB version 1（older version）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GRUB-version-2%EF%BC%88older-version%EF%BC%89"><span class="toc-text">GRUB version 2（older version）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hardware-Vulnerability"><span class="toc-text">Hardware Vulnerability</span></a></li></ol></li></ol></div></div></div><div class="column is-9"><header class="my-4"><a href="/tags/Linux"><i class="tag post-item-tag">Linux</i></a><a href="/tags/EDX-Linux-Foundation"><i class="tag post-item-tag">EDX Linux Foundation</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">EDX Linux Foundation Ch11：Local Security Principle section 4~5</h1><time class="has-text-grey" datetime="2014-09-22T00:07:00.000Z">2014-09-22</time><article class="mt-2 post-content"><h1 id="Section-4-Working-with-passwords"><a href="#Section-4-Working-with-passwords" class="headerlink" title="Section 4: Working with passwords"></a>Section 4: Working with passwords</h1><h2 id="How-Passwords-are-Stored"><a href="#How-Passwords-are-Stored" class="headerlink" title="How Passwords are Stored"></a>How Passwords are Stored</h2><p> On modern systems, passwords are actually stored in an encrypted format in a secondary file named <code>/etc/shadow</code>. Only those with root access can modify/read this file.</p>
<h2 id="Password-Encryption"><a href="#Password-Encryption" class="headerlink" title="Password Encryption"></a>Password Encryption</h2><p>Most Linux distributions rely on a modern password encryption algorithm called <strong>SHA-512</strong> (Secure Hashing Algorithm 512 bits), developed by the U.S. National Security Agency (NSA) to encrypt passwords.</p>
<p>可以玩玩看下面這個指令，加密test這個字。</p>
<pre><code>echo -n test | sha512sum
</code></pre>
<h2 id="Good-Password-Practices"><a href="#Good-Password-Practices" class="headerlink" title="Good Password Practices"></a>Good Password Practices</h2><p>IT professionals follow several good practices for securing the data and the password of every user.</p>
<h3 id="1-Password-aging"><a href="#1-Password-aging" class="headerlink" title="1.Password aging"></a>1.Password aging</h3><p><strong>Password aging</strong> is a method to ensure that users get prompts that remind them to create a new password after a specific period. This can ensure that passwords, if cracked, will only be usable for a limited amount of time. This feature is implemented using <strong>chage</strong>, which configures the password expiry information for a user.</p>
<h3 id="2-PAM"><a href="#2-PAM" class="headerlink" title="2.PAM"></a>2.PAM</h3><p>Another method is to force users to set strong passwords using Pluggable Authentication Modules (PAM). PAM can be configured to automatically verify that a password created or modified using the passwd utility is sufficiently strong. PAM configuration is implemented using a library called pam_cracklib.so, which can also be replaced by pam_passwdqc.so for more options.</p>
<h3 id="3-John-the-ripper"><a href="#3-John-the-ripper" class="headerlink" title="3.John the ripper"></a>3.John the ripper</h3><p>One can also install password cracking programs, such as John The Ripper, to secure the password file and detect weak password entries. It is recommended that written authorization be obtained before installing such tools on any system that you do not own.</p>
<h1 id="Seciton-5-Securing-the-Boot-Process-and-Hardware"><a href="#Seciton-5-Securing-the-Boot-Process-and-Hardware" class="headerlink" title="Seciton 5: Securing the Boot Process and Hardware"></a>Seciton 5: Securing the Boot Process and Hardware</h1><h2 id="Requiring-Boot-Loader-Passwords"><a href="#Requiring-Boot-Loader-Passwords" class="headerlink" title="Requiring Boot Loader Passwords"></a>Requiring Boot Loader Passwords</h2><p>You can secure the boot process with a secure password to prevent someone from bypassing the user authentication step.</p>
<h3 id="GRUB-version-1（older-version）"><a href="#GRUB-version-1（older-version）" class="headerlink" title="GRUB version 1（older version）"></a>GRUB version 1（older version）</h3><p>you can invoke <strong>grub-md5-crypt</strong>  which will prompt you for a password and then encrypt as shown on the adjoining screen.</p>
<p>You then must edit <code>/boot/grub/grub.conf</code> by adding the following line below the timeout entry:</p>
<pre><code>password --md5 $1$Wnvo.1$qz781HRVG4jUnJXmdSCZ30
</code></pre>
<p>You can also force passwords for only certain boot choices rather than all.<br>舊的作法是直接修改<code>/boot/grub/grub.conf</code></p>
<h3 id="GRUB-version-2（older-version）"><a href="#GRUB-version-2（older-version）" class="headerlink" title="GRUB version 2（older version）"></a>GRUB version 2（older version）</h3><p>For the now more common GRUB version 2 things are more complicated, and you have more flexibility and can do things like use user-specific passwords, which can be their normal login password.  Also you never edit the configuration file, <code>/boot/grub/grub.cfg</code>, directly, rather you edit system configuration files in <code>/etc/grub.d</code> and then run <strong>update-grub</strong>. One explanation of this can be found at <a target="_blank" rel="noopener" href="https://help.ubuntu.com/community/Grub2/Passwords">https://help.ubuntu.com/community/Grub2/Passwords</a>.</p>
<p>新的作法不直接修改<code>/boot/grub/grub.cfg</code>，而是先修改<code>/etc/grub.d</code>然後跑update-grub。</p>
<h2 id="Hardware-Vulnerability"><a href="#Hardware-Vulnerability" class="headerlink" title="Hardware Vulnerability"></a>Hardware Vulnerability</h2><p><strong>When hardware is physically accessible, security can be compromised by:</strong></p>
<ol>
<li>Key logging: Recording the real time activity of a computer user including the keys they press. The captured data can either be stored locally or transmitted to remote machines</li>
<li>Network sniffing: Capturing and viewing the network packet level data on your network</li>
<li>Booting with a live or rescue disk</li>
<li>Remounting and modifying disk content</li>
</ol>
<p><strong>The guidelines of security are:</strong></p>
<ol>
<li>Lock down workstations and servers</li>
<li>Protect your network links such that it cannot be accessed by people you do not trust</li>
<li>Protect your keyboards where passwords are entered to ensure the keyboards cannot be tampered with</li>
<li>Ensure a password protects the BIOS in such a way that the system cannot be booted with a live or rescue DVD or USB key</li>
</ol>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2014/09/29/old%20posts/2014-09-29-personal-kanban/" title="Personal Kanban：能夠用在自己身上的敏捷方法 學習筆記"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: Personal Kanban：能夠用在自己身上的敏捷方法 學習筆記</span></a><a class="button is-default" href="/2014/09/22/old%20posts/2014-09-22-edx-linux-foundation-ch11-understanding-linux-security/" title="EDX Linux Foundation Ch11：Local Security Principle section 1~3"><span class="has-text-weight-semibold">Next: EDX Linux Foundation Ch11：Local Security Principle section 1~3</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="LukaHuang/" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/LukaHuang"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><a title="linkedin" target="_blank" rel="noopener nofollow" href="//www.linkedin.com/in/LukaHuang"><i class="iconfont icon-linkedin"></i></a><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//CodeShiba"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> Luka.tw 2021</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo </p></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/post.js"></script></body></html>